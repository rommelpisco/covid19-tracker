(this["webpackJsonpcovid19-tracker"]=this["webpackJsonpcovid19-tracker"]||[]).push([[0],{31:function(e,t,a){e.exports=a(60)},36:function(e,t,a){},38:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(6),i=a.n(r),s=(a(36),a(9)),d=a.n(s),o=a(14),c=a(12),m=a(24),u=a(25),h=a(8),g=a(29),p=a(30),v=(a(38),a(10)),E=a.n(v),f=a(26),y=a.n(f),x=a(65),C=a(62),_=a(63),b=a(64),w=a(66),k=(a(57),a(13)),A=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).showFlag=function(){var e=Object(c.a)(d.a.mark((function e(t,a){var l,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getFlag(t,a);case 2:l=e.sent,console.log(l.flag),(r=Object(o.a)({},n.state.items))[a]=Object(o.a)({},n.state.items[a],{img:l.flag}),console.log(r),n.setState({items:r});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.loadData=Object(c.a)(d.a.mark((function e(){var t,a,l,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getData();case 2:return t=e.sent,e.next=5,n.getTimeline();case 5:a=e.sent,console.log(t),console.log(t.data),console.log(a.data),(l=t.data).sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e,t){return e})),r=[],l.forEach((function(e,t){var a={label:e.name,value:e.code};r.push(a)})),n.setState({items:l,options:r,timeline:a}),console.log(l);case 15:case"end":return e.stop()}}),e)}))),n.state={items:[],selected:"All",options:[],selectedOption:[],timeline:[],sortBy:[{label:"Confirmed",value:"Confirmed"},{label:"Deaths",value:"Deaths"},{label:"Recovered",value:"Recovered"},{label:"Country",value:"Country"}],selectedSortBy:[]},n.handleChange_Country=n.handleChange_Country.bind(Object(h.a)(n)),n.handleChange_sortBy=n.handleChange_sortBy.bind(Object(h.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"getData",value:function(){return new Promise((function(e){E.a.get("https://corona-api.com/countries").then((function(t){e(t.data)}))}))}},{key:"getTimeline",value:function(){return new Promise((function(e){E.a.get("https://corona-api.com/timeline").then((function(t){e(t.data)}))}))}},{key:"getFlag",value:function(e,t){return new Promise((function(t){E.a.get("https://restcountries.eu/rest/v2/alpha/"+e).then((function(e){t(e.data)}))}))}},{key:"handleChange_Country",value:function(e){e?this.setState({selected:e.label,selectedOption:e}):this.setState({selected:"All",selectedOption:[]})}},{key:"handleChange_sortBy",value:function(e){if(e?this.setState({selectedSortBy:e}):this.setState({selectedSortBy:[]}),"Country"===e.label){var t=this.state.items.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e,t){return e}));this.setState({items:t})}else{var a=this.state.items.sort((function(t,a){return a.latest_data[e.value.toLowerCase()]-t.latest_data[e.value.toLowerCase()]})).map((function(e,t){return e}));console.log(a),this.setState({items:a,selected:"All"})}}},{key:"addCommas",value:function(e){for(var t=(e+="").split("."),a=t[0],n=t.length>1?"."+t[1]:"",l=/(\d+)(\d{3})/;l.test(a);)a=a.replace(l,"$1,$2");return a+n}},{key:"formatDate",value:function(e){return y()(e).format("DD-MMM-YYYY LTS")}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement("header",{className:"App-header",style:{paddingTop:"15px",backgroundColor:"white"}},l.a.createElement("div",{className:"jumbotron",style:{color:"white",backgroundColor:"darkslategray",paddingTop:"15px",paddingBottom:"5px"}},l.a.createElement("p",null,"COVID19 updates as of ",this.formatDate(new Date)),l.a.createElement("div",{style:{color:"darkblue",fontSize:"initial",paddingBottom:"15px"}},l.a.createElement(x.a,null,l.a.createElement(x.a.Header,null,"Worldwide"),l.a.createElement(x.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(_.a,{style:{textAlign:"right",paddingRight:"5px"},xs:"5",lg:"6"},l.a.createElement("div",null,"Confirmed:")),l.a.createElement(_.a,{style:{textAlign:"left",paddingRight:"0px",paddingLeft:"0px"}},l.a.createElement("div",null," ",l.a.createElement(b.a,{variant:"warning"},this.addCommas(this.state.timeline&&this.state.timeline.data&&this.state.timeline.data[0].confirmed)),this.state.timeline&&this.state.timeline.data&&this.state.timeline.data[0].new_confirmed>0&&l.a.createElement(b.a,{variant:"secondary"}," +",this.addCommas(this.state.timeline.data[0].new_confirmed))))),l.a.createElement(C.a,null,l.a.createElement(_.a,{style:{textAlign:"right",paddingRight:"5px"},xs:"5",lg:"6"},l.a.createElement("div",null,"Deaths:")),l.a.createElement(_.a,{style:{textAlign:"left",paddingRight:"0px",paddingLeft:"0px"}},l.a.createElement("div",null,l.a.createElement(b.a,{variant:"danger"},this.addCommas(this.state.timeline&&this.state.timeline.data&&this.state.timeline.data[0].deaths)),this.state.timeline&&this.state.timeline.data&&this.state.timeline.data[0].new_deaths>0&&l.a.createElement(b.a,{variant:"secondary"}," +",this.addCommas(this.state.timeline.data[0].new_deaths))))),l.a.createElement(C.a,null,l.a.createElement(_.a,{style:{textAlign:"right",paddingRight:"5px"},xs:"5",lg:"6"},l.a.createElement("div",null,"Recovered:")),l.a.createElement(_.a,{style:{textAlign:"left",paddingRight:"0px",paddingLeft:"0px"}},l.a.createElement("div",null,l.a.createElement(b.a,{variant:"success"},this.addCommas(this.state.timeline&&this.state.timeline.data&&this.state.timeline.data[0].recovered)),this.state.timeline&&this.state.timeline.data&&this.state.timeline.data[0].new_recovered>0&&l.a.createElement(b.a,{variant:"secondary"}," +",this.addCommas(this.state.timeline.data[0].new_recovered)))))))),l.a.createElement(C.a,null,l.a.createElement(_.a,{lg:"6",sm:"12"},l.a.createElement(w.a,{style:{width:"-webkit-fill-available"}},l.a.createElement("label",null,"Countries"),l.a.createElement("span",{style:{color:"blue"}},l.a.createElement(k.a,{isMulti:!0,options:this.state.options,onChange:this.handleChange_Country,value:this.state.selectedOption})))),l.a.createElement(_.a,{lg:"6",sm:"12"},l.a.createElement(w.a,{style:{width:"-webkit-fill-available"}},l.a.createElement("label",null,"Sort by"),l.a.createElement("span",{style:{color:"blue"}},l.a.createElement(k.a,{options:this.state.sortBy,onChange:this.handleChange_sortBy,value:this.state.selectedSortBy}))))))),l.a.createElement("div",{style:{overflowY:"scroll",flex:1}},"All"===this.state.selected?l.a.createElement("div",null,this.state.items.map((function(t,a){if(t.latest_data)return l.a.createElement("div",{style:{paddingBottom:"15px"}},l.a.createElement(x.a,null,l.a.createElement(x.a.Header,null,t.name),l.a.createElement(x.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(_.a,{style:{textAlign:"right",paddingLeft:"0px"},xs:"7",lg:"6",md:"6"},l.a.createElement("div",null,"Confirmed "," ",l.a.createElement("label",null,"(",(t.latest_data.confirmed&&t.latest_data.confirmed/t.population*100).toFixed(3),"%)"))),l.a.createElement(_.a,{style:{textAlign:"left",paddingRight:"0px"}},l.a.createElement("div",null,l.a.createElement(b.a,{variant:"warning"},e.addCommas(t.latest_data.confirmed)),t.today.confirmed>0&&l.a.createElement(b.a,{variant:"secondary"}," +",e.addCommas(t.today.confirmed))))),l.a.createElement(C.a,null,l.a.createElement(_.a,{style:{textAlign:"right",paddingLeft:"0px"},xs:"7",lg:"6",md:"6"},l.a.createElement("div",null,"Deaths "," ",l.a.createElement("label",null," (",t.latest_data.calculated.death_rate&&t.latest_data.calculated.death_rate.toFixed(2),"%)"))),l.a.createElement(_.a,{style:{textAlign:"left",paddingRight:"0px"}},l.a.createElement("div",null,l.a.createElement(b.a,{variant:"danger"},e.addCommas(t.latest_data.deaths)),t.today.deaths>0&&l.a.createElement(b.a,{variant:"secondary"}," +",t.today.deaths)))),l.a.createElement(C.a,null,l.a.createElement(_.a,{style:{textAlign:"right",paddingLeft:"0px"},xs:"7",lg:"6",md:"6"},l.a.createElement("div",null,"Recovered "," ",l.a.createElement("label",null," (",t.latest_data.calculated.recovery_rate&&t.latest_data.calculated.recovery_rate.toFixed(2),"%)"))),l.a.createElement(_.a,{style:{textAlign:"left",paddingRight:"0px"}},l.a.createElement("div",null,l.a.createElement(b.a,{variant:"success"},e.addCommas(t.latest_data.recovered)),t.today.recovered>0&&l.a.createElement(b.a,{variant:"secondary"}," +",t.today.recovered)))))))}))):l.a.createElement("div",null,this.state.items.map((function(t,a){return e.state.selectedOption.some((function(e){return e.label===t.name}))?(console.log(t),l.a.createElement("div",{style:{paddingBottom:"15px"}},l.a.createElement(x.a,{style:{paddingLeft:"0px"}},l.a.createElement(x.a.Header,null,t.name,"  ",l.a.createElement("img",{src:"https://www.countryflags.io/".concat(t.code,"/shiny/64.png"),alt:"rommel",className:"img-responsive",style:{height:"30px",paddingLeft:"10px"}})),l.a.createElement(x.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(_.a,{style:{textAlign:"right",paddingLeft:"0px"},xs:"7",lg:"6",md:"6"},l.a.createElement("div",null,"Confirmed "," ",l.a.createElement("label",null,"(",(t.latest_data.confirmed&&t.latest_data.confirmed/t.population*100).toFixed(3),"%)"))),l.a.createElement(_.a,{style:{textAlign:"left",paddingRight:"0px"}},l.a.createElement("div",null,l.a.createElement(b.a,{variant:"warning"},e.addCommas(t.latest_data.confirmed)),t.today.confirmed>0&&l.a.createElement(b.a,{variant:"secondary"}," +",e.addCommas(t.today.confirmed))))),l.a.createElement(C.a,null,l.a.createElement(_.a,{style:{textAlign:"right",paddingLeft:"0px"},xs:"7",lg:"6",md:"6"},l.a.createElement("div",null,"Deaths "," ",l.a.createElement("label",null," (",t.latest_data.calculated.death_rate&&t.latest_data.calculated.death_rate.toFixed(2),"%)"))),l.a.createElement(_.a,{style:{textAlign:"left",paddingRight:"0px"}},l.a.createElement("div",null,l.a.createElement(b.a,{variant:"danger"},e.addCommas(t.latest_data.deaths)),t.today.deaths>0&&l.a.createElement(b.a,{variant:"secondary"}," +",e.addCommas(t.today.deaths))))),l.a.createElement(C.a,null,l.a.createElement(_.a,{style:{textAlign:"right",paddingLeft:"0px"},xs:"7",lg:"6",md:"6"},l.a.createElement("div",null,"Recovered "," ",l.a.createElement("label",null," (",t.latest_data.calculated.recovery_rate&&t.latest_data.calculated.recovery_rate.toFixed(2),"%)"))),l.a.createElement(_.a,{style:{textAlign:"left",paddingRight:"0px"}},l.a.createElement("div",null,l.a.createElement(b.a,{variant:"success"},e.addCommas(t.latest_data.recovered)),t.today.recovered>0&&l.a.createElement(b.a,{variant:"secondary"}," +",e.addCommas(t.today.recovered))))))))):l.a.createElement("div",null)})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.8fe731ce.chunk.js.map